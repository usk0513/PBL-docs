---
presentationID: 1D84mef4sJ3EmdKq2WEoOJ9EksQJU4iB-xVAnVSo78fs
title: 協創のための開発環境構築
breaks: true
---

<!-- {"layout": "タイトル スライド"} -->

## 協創のための開発環境構築
### 〜チーム開発の成功は環境統一から始まる〜

M1向け アジャイル開発PBL。

---

<!-- {"layout": "タイトルと本文"} -->

## 今日のゴール

- **なぜ**環境統一が重要なのかを体験から理解する
- 「競争」ではなく「協創」を目指す理由を把握する
- 本授業の**アーキテクチャ**と**開発ルール**を理解する
- チームで**技術選択の理由**を考え、最適解を模索する姿勢を身につける

手順を覚えるのではなく、**なぜそうするのか**をチームで探求することが大切です。

---

<!-- {"layout": "セクション ヘッダー"} -->

## なぜ「環境」から始めるのか？

---

<!-- {"layout": "タイトルと本文"} -->

## 質問：こんな経験ありませんか？

**「自分のPCでは動くのに...」**

- 友人のPCでプログラムが動かない
- チームメンバーと実行結果が違う
- 昨日まで動いていたのに、今日になったら動かない

### 🤔 考えてみよう
なぜこのような問題が起きるのでしょうか？
チームで話し合ってみてください。(5分)

---

<!-- {"layout": "タイトルと本文ヘディング(2列)と本文(2列)"} -->

## この授業が目指すもの：競争から「協創」へ

### × 競争
- 個々のチームが閉じて開発し、成果物の優劣を競う
- 他のチームはライバル

### ○ 協創
- クラス全体を**「ひとつの組織」**と見立て、全員でプロダクトを育てる
- 他のチームは**同僚**
- あるチームの学びは、クラス全体の資産になる

---

<!-- {"layout": "タイトルと本文"} -->

## 「クラス全体で成功する」とは？

- あるチームの素晴らしい発見（便利なライブラリ、効率的な設定）が、**全チームに共有され、全体の生産性が向上する**
- あるチームの失敗（ライブラリのコンフリクト、セキュリティの問題）が、**全チームの学びとなり、同じ過ちを繰り返さない**
- お互いのコードを参考にし、助け合い、高め合う文化が生まれる

この「協創」を実現するために、開発環境の統一が最初の大きな一歩となります。

---

<!-- {"layout": "セクション ヘッダー"} -->

## 本授業のアーキテクチャ

---

<!-- {"layout": "タイトルと本文"} -->

## 全体構成

```text
┌─────────────────────────────────┐
│    オンプレミスサーバー (Ubuntu)   │
├─────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐     │
│  │本番環境VM │  │開発環境VM  │ ×20 │
│  └──────────┘  └──────────┘     │
└─────────────────────────────────┘
         ↑              ↑
    ユーザーアクセス   チーム開発
```

- **ローカル環境** - あなたのPC。自由に実験し、即座に試す場所。
- **開発環境VM** - チームで共有。コードを統合し、本番に近い構成でテストする場所。
- **本番環境VM** - ユーザーが利用。クラス全体の成果物を動かす場所。

---

<!-- {"layout": "タイトルと本文"} -->

## 協創を支える「単一リポジトリ」

### 🤔 なぜリポジトリを分けないのか？
- **透明性** - 他チームの進捗や工夫がいつでも見える
- **学習効率** - 優れた実装や解決策を身近な「お手本」から学べる
- **一体感** - 「自分たちのプロダクト」という意識がクラス全体に広がる

```bash
project-root/
├── team_A/     # チームAのディレクトリ
│   └── ...
├── team_B/     # チームBのディレクトリ
│   └── ...
├── PBL_main/   # djangoのプロジェクトディレクトリ
│   └── ...
└──  ...        # その他
```

---

<!-- {"layout": "セクション ヘッダー"} -->

## ローカル開発環境の構築

---

<!-- {"layout": "タイトルと本文"} -->

## 環境構築の選択肢

チームで議論し、なぜその選択をしたのか説明できるようにしましょう。

| 特徴 | 推奨: Docker | 別案: venv (仮想環境) |
| :--- | :--- | :--- |
| **環境の一貫性** - | ◎ 非常に高い | △ 低い |
| **再現性** - | ○ 容易 | △ 難しい（手作業が多い） |
| **本番環境との近さ** - | ◎ 近い | × 乖離しやすい |
| **学習コスト** - | △ 高い | ◎ 低い |

**🎯 大切なのは「チーム全員が同じ手順で、同じ環境を再現できる」こと**

---

<!-- {"layout": "タイトルと本文"} -->

## Dockerfileの解読

```dockerfile
# ベースとなるイメージを指定
FROM python:3.11-slim

# 作業ディレクトリを設定
WORKDIR /app

# 依存関係ファイルをコピー
COPY requirements.txt .

# 依存関係をインストール
RUN pip install -r requirements.txt

# アプリケーションコードをコピー
COPY . .

# サーバーを起動するコマンド
CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

### 🤔 考えてみよう
- 各行が何をしているか、チームで説明してみましょう。
- このDockerfileには、まだ改善の余地があるでしょうか？

---

<!-- {"layout": "セクション ヘッダー"} -->

## 開発のルールとヒント

---

<!-- {"layout": "タイトルと本文ヘディング(2列)と本文(2列)"} -->

## 開発の基本ルール

### 絶対に守ること
- 自分のチームのディレクトリ以外は、勝手に編集しない
- 共通部分の変更は、**プルリクエスト**で提案する
- `requirements.txt` で依存パッケージのバージョンを固定する
- `.env` など機密情報はGitに含めない

### チームで決めること
- コーディング規約 (PEP8など)
- コミットメッセージの書き方
- ブランチの運用方法

---

<!-- {"layout": "タイトルと本文"} -->

## 困ったときの進め方

1. **状況整理** - 何を期待し、実際どうなったか。再現手順とログを整理する。
2. **仮説構築** - チーム内で互いの環境差を比較し、原因の仮説を立てる。
3. **調査と記録** - 試したこと・結果・次の仮説を記録しながら調査を進める。
4. **相談** - 自力で解けなければ、仮説と調査状況を添えて、他のチームやコーチに相談する。

**エラーは学びの宝庫。安易に答えを探すのではなく、原因を究明するプロセスを楽しもう。**

---

<!-- {"layout": "セクション ヘッダー"} -->

## 実践演習

---

<!-- {"layout": "タイトルと本文"} -->

## 演習1：環境の違いを発見せよ (15分)

### 🔍 調査ミッション
1. チームメンバーと以下のコマンドを実行し、結果を比較する。
   ```bash
   python --version
   pip list | head -5
   ```
2. 発見した違いをドキュメントにまとめる。
3. これらの違いが、将来どんな問題を引き起こす可能性があるか議論する。

**目的** - 環境差異が「自分ごと」であると体験する。

---

<!-- {"layout": "タイトルと本文"} -->

## 演習2：環境構築戦略を決定し、実装せよ (30分)

### 🐳 実践ミッション
1. **方針決定** - Dockerとvenvのどちらを選択するか、チームで議論し、**決定理由を明確にする**。
2. **実装** - 選択した方法で環境を構築し、全員が同じ手順で再現できることを確認する。
3. **ドキュメント作成** - `README.md`に、他の人が見ても分かるように手順を詳述する。トラブルシュートも含めること。

完璧でなくてOKです。試行錯誤のプロセスそのものが学びであることを忘れないようにしましょう。

---

<!-- {"layout": "タイトルと本文"} -->

## 演習3：気づきと学びを共有せよ (15分)

### 💡 発見共有
- **予想外だったこと、トラブル**
- **どうやって解決したか（あるいは、していないか）**
- **他チームにも役立ちそうなTips**
- **クラス全体で議論したい課題**

短いレポートにまとめ、クラス全体で共有しましょう。

---

<!-- {"layout": "タイトルと本文"} -->

## まとめ

### 今日学んだこと
- 環境統一の重要性を**体験**した
- クラス全体の「協創」が成功の鍵であると理解した
- チームで技術を選択し、その**理由を言語化**した
- 開発の基盤となる**ドキュメント**を作成した

### 次回に向けて
- **チーム課題** - 開発ルールを整備し、`README.md`を完成させる
- **クラス課題** - 他チームの`README.md`を読み、良い点を取り入れる

---

<!-- {"layout": "タイトル スライド"} -->

## Let's Build Together! 🚀

### 環境を制する者は開発を制す
