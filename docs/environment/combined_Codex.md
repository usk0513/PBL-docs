---
presentationID: 1ZffqnnMITnvX39G4HyW2L64mHGKuEgpkbcTMPPRPP4k
title: クラス全体で築く開発環境
breaks: true
---

<!-- {"layout": "タイトル スライド"} -->

## アジャイル開発PBL 開発環境ハンドブック
### 〜協創を支える土台を自分たちで整える〜

情報系大学院M1向け / Python + Django。

---

<!-- {"layout": "タイトルと本文"} -->

## 今日のゴール
- なぜ環境から始めるのかを理解し、自分たちの言葉で説明できるようにする。
- 今回のPBLで共有する環境構成とリポジトリ運用の全体像を把握する。
- チームごとに最適な環境構築手順を選び、再現できる形で残す準備を整える。
- 学んだことをクラス全体に還元し、協創の文化を育てる。

---

<!-- {"layout": "セクション ヘッダー"} -->

## まずは「なぜ」を考える

---

<!-- {"layout": "タイトルと本文"} -->

## よくあるつまずき
- 「自分のPCでは動くのに…」で議論が止まり、原因調査に時間を奪われる。
- 依存パッケージや環境変数の差異でバグが再現できず、品質が不安定になる。
- OS固有の設定差や権限の違いに気づけず、作業が属人化する。
- ローカルで完結した知見が共有されず、クラス全体の学習機会を逃す。

### 👉 どこで差異が生まれているか、チームで仮説を立ててみよう。

---

<!-- {"layout": "タイトルと本文(2列)"} -->

## 環境とは何か？

### 揃えたい共通要素
- OSとシェル、文字コードの設定。
- Python本体、Django、主要ライブラリのバージョン。
- データベースや外部サービスへの接続方法。
- テストやLintなど開発フローに関わるツール。

### チームで決める運用
- 仮想環境やDockerなど、どの手段で隔離するか。
- 情報共有のチャネル、テンプレート、記録場所。
- 設定ファイルやスクリプトをどこまで自動化するか。
- 合意内容を誰がどう更新し、どう周知するか。

---

<!-- {"layout": "タイトルと本文"} -->

## リスクを段階的に減らす
- 本番でいきなり開発すると、サービス停止やデータ損失につながるリスクが高い。
- ローカル → チーム → クラス全体と段階を踏むことで、影響範囲を小さく保ちながら検証できる。
- 環境構成を揃えることで、バグの再現性が高まり、原因特定が早くなる。

---

<!-- {"layout": "タイトルと本文(3列)"} -->

## 代表的な環境の役割

### ローカル環境
- 個人の検証と実験の場。
- 失敗しても影響が小さい。

### チーム開発環境
- 合流前の動作確認。
- 手順や設定を共有する場。

### クラス共通サーバー
- 成果物を安定提供する本番相当。
- 信頼できる状態のみを反映する。

---

<!-- {"layout": "セクション ヘッダー"} -->

## 今回のPBLで使う土台

---

<!-- {"layout": "タイトルと本文"} -->

## 環境アーキテクチャの全体像
```text
ローカルPC → チーム開発用VM → クラス共通サーバー
    (試す)        (チームで検証)        (安定版を公開)
```
- ローカルでは素早く検証し、失敗と学びを積み重ねる。
- チームVMで設定やスクリプトを合わせ、合流前のレビューをする。
- クラス共通サーバーには検証済みの成果のみをデプロイし、全員で守る。

---

<!-- {"layout": "タイトルと本文"} -->

## 技術スタックと選択理由
- Python + Django を採用し、授業で触れた知識を土台に学習コストを抑える。
- 1つのGitリポジトリを共用し、成功・失敗の知見を全員で共有する。
- インフラは大学が提供するVMを活用し、チームごとに独立した検証環境を確保する。
- 設定や依存関係はコード化し、環境差を縮小する。

---

<!-- {"layout": "タイトルと本文"} -->

## 設定を分けて管理する工夫
- `.env` や設定ファイルに環境識別子を持たせ、機密情報は環境変数で管理する。
- Djangoの設定は `settings/base.py` と環境ごとの設定に分割して読み込むようにする。
- データベースや外部APIの接続先を環境ごとに切り替えられるように、変数やテンプレートを整える。
- 設定の変更履歴を残し、誰が何のために変えたかを追跡できるようにする。

---

<!-- {"layout": "セクション ヘッダー"} -->

## 単一リポジトリで協創する

---

<!-- {"layout": "タイトルと本文"} -->

## なぜたった1つのリポジトリ？
- 他チームの進捗や工夫が常に見え、優れた実装をすぐ学べる透明性が生まれる。
- コードレビューや議論がチーム横断で行われ、クラス全体の品質基準が揃う。
- 成功と失敗の両方を共有し、協創の文化を定着させる。
- 「モノレポ」の考え方を体験し、大規模開発の進め方を学べる。

---

<!-- {"layout": "タイトルと本文"} -->

## クラス全体で成功するとは？
- 誰かの発見や改善がスピーディに共有され、全体の生産性が向上する。
- 失敗事例を記録し、同じ課題を二度繰り返さない文化が根づく。
- 他チームのコードやドキュメントを参考にし、互いに助け合う体制が生まれる。
- 知見を蓄積したリポジトリが、次年度以降の後輩への引継ぎ資産になる。

---

<!-- {"layout": "タイトルと本文ヘディング(2列)と本文(2列)"} -->

## 単一リポジトリでの開発ルール

### 絶対に守ること
- 自分のチーム以外のディレクトリは直接編集しない。
- 共有領域を変更するときは事前に相談し、Pull Requestで合意を得る。
- 差分には意図・影響範囲・動作確認方法を記述し、透明性を担保する。

### 考えるべきこと
- `.gitignore` や共通ユーティリティなど、全体で扱う設定の置き場所。
- 同じ課題に直面したチーム同士でどう連携し、重複作業を減らすか。
- 変更がクラス全体に与える影響をどう周知し、誰が責任を持つか。

---

<!-- {"layout": "タイトルと本文"} -->

## コーチの伴走スタンス
- 正解を提示するのではなく、問いを投げかけて自律的な学びを促す。
- 判断材料や参考情報を渡しつつ、最終判断はチームに委ねる。
- チーム間の壁を低くし、良い実践が横展開されるように場を整える。
- 相談するときは現状・試したこと・欲しい支援をセットで共有してほしい。

---

<!-- {"layout": "セクション ヘッダー"} -->

## 環境を整える準備を始めよう

---

<!-- {"layout": "タイトルと本文"} -->

## 最初に揃えたいチェックリスト
- Python / pip / Git のバージョンをチームで確認し、差異があれば対策を検討する。
- `.env.example` や設定テンプレートを共有ドライブに置き、更新ルールを決める。
- 必要なエディタ設定や拡張機能をまとめ、新メンバーがすぐ追従できるようにする。
- チームVMへの接続・デプロイ手順を早めに試し、ハマりどころを記録する。

---

<!-- {"layout": "タイトルと本文ヘディング(2列)と本文(2列)"} -->

## 環境構築の選択肢

### Dockerを使う場合
- OS差を吸収しやすく、本番に近い構成を再現できる。
- 初期構築には時間がかかるが、再現性と共有がしやすい。
- ボリュームやネットワークなど、設定をチームで理解しておく必要がある。

### 仮想環境（venvなど）を使う場合
- 学習済みのツールで素早く構築でき、PCのリソース負荷が小さい。
- OS差が残りやすいため、パッケージの固定やセットアップ手順を厳密に管理する。
- ライブラリ衝突を防ぐため、プロジェクトごとの仮想環境を徹底する。

---

<!-- {"layout": "タイトルと本文"} -->

## 選択の指針をチームで言語化する
| 観点 | Docker | venv |
| :--- | :--- | :--- |
| 環境の一貫性 | ◎ 高い | △ 低い |
| 再現性 | ◎ 高い | △ 手作業に依存 |
| 本番との近さ | ◎ 近い | × 乖離しやすい |
| 学習コスト | △ 高い | ◎ 低い |
| リソース消費 | △ やや大きい | ◎ 小さい |

**大切なのは「なぜその選択をしたか」を説明できる状態にすること。**

---

<!-- {"layout": "タイトルと本文"} -->

## 共通して守りたい運用ルール
- requirements.txt や lock ファイルで依存関係を固定し、更新は合意して進める。
- 機密情報は `.env` やシークレットマネージャーで管理し、Gitに含めない。
- Lint・自動テストの実行コマンドを統一し、CIでも再現できるようにする。
- 改善案を共有するときは背景・効果・検証方法をセットでまとめる。

---

<!-- {"layout": "タイトルと本文"} -->

## 困ったときの進め方
- エラーや不具合は再現手順とログを整理し、事実ベースで共有する。
- チームメンバーの環境差を比較して仮説を立て、複数人で検証する。
- 試したことと結果を記録し、次に何を試すかを明確にする。
- 自力で解決できないときは、仮説と調査状況を添えてコーチや他チームに相談する。

---

<!-- {"layout": "セクション ヘッダー"} -->

## 演習で手を動かそう

---

<!-- {"layout": "タイトルと本文"} -->

## 演習1：環境差を見つける
1. `python --version` や `pip list` でチームメンバーの環境を比較する。
2. 違いをホワイトボードやドキュメントに整理し、影響を議論する。
3. 問題になりそうな点と対策案をまとめ、共有チャンネルに投稿する。

※ コーチは解答を教えないので、自分たちで仮説を試してみよう。

---

<!-- {"layout": "タイトルと本文"} -->

## 演習2：自分たちの環境を決めて整える
1. Docker派・venv派のメリットとリスクを比較し、採用方針を決定する。
2. 選んだ手法で環境を構築し、全員がゼロから再現できるか確認する。
3. 手順・トラブル・暫定ルールを `README` に記録し、レビューを受ける。

👉 完璧さよりもプロセスと共有を重視して進めよう。

---

<!-- {"layout": "タイトルと本文"} -->

## 演習3：気づきと学びを共有する
- 予想外だったトラブルと、その解決プロセス。
- 他チームにも役立ちそうなTipsや設定例。
- まだ解決していない課題と次に試す仮説。
- クラス全体に相談したいポイント。

共有テンプレートを使って、短いレポートにまとめよう。

---

<!-- {"layout": "タイトルと本文"} -->

## 振り返りと次のアクション
- チーム内で今日の学びと課題を5分で共有し、やるべき作業を洗い出す。
- 翌日までの環境整備タスクを決めて担当を割り振り、期限を設定する。
- Slackなどの全体チャンネルに進捗と困りごとを投稿し、助けを求める。
- 他チームの良い実践を取り入れ、ドキュメントを継続的に改善する。

---

<!-- {"layout": "タイトルと本文"} -->

## 環境管理のベストプラクティス
- Documentation as Code - 手順や設定をコード化し、更新履歴を残す。
- Version Everything - 依存・設定・データスキーマまでバージョン管理する。
- Fail Fast - 小さく試して早く失敗し、学びを次に活かす。

---

<!-- {"layout": "タイトルと本文"} -->

## コミュニティとして成長するために
- 進捗や課題は遠慮せず共有し、助け合う文化をつくる。
- よかった取り組みは具体例とともに称賛し、クラスの標準へ昇華させる。
- 後輩や未来の自分が迷わないよう、成果と学びをドキュメントに残す。

---

<!-- {"layout": "タイトルと本文"} -->

## まとめ
- 環境統一は「動かすため」だけでなく、協創の文化をつくる第一歩である。
- 単一リポジトリを活かし、知見をクラス全体で循環させることが成功の鍵になる。
- 自分たちで選び整えた環境を記録し、次のチームへつながる資産にしていこう。

---

<!-- {"layout": "タイトル スライド"} -->

## Let's Build Together 🚀
### 環境を制する者は開発を制す

自分たちで築いた環境は、未来の仲間への大切な贈り物になります。
