<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>アジャイル開発PBL：開発環境の設計と実践</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Roboto+Mono&display=swap');

        :root {
            --primary-color: #0d47a1; /* 深い青 */
            --secondary-color: #1565c0; /* やや明るい青 */
            --accent-color: #ffc107; /* 黄色 */
            --background-color: #f5f5f5; /* 明るいグレー */
            --text-color: #212121;
            --white-color: #ffffff;
            --code-bg-color: #2d2d2d;
            --code-text-color: #f8f8f2;
            --header-font: 'Noto Sans JP', sans-serif;
            --body-font: 'Noto Sans JP', sans-serif;
            --code-font: 'Roboto Mono', monospace;
        }

        body {
            font-family: var(--body-font);
            margin: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow: hidden;
        }

        .slides-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .slide {
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            padding: 50px 80px;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
        }

        .slide.active {
            display: flex;
            opacity: 1;
            z-index: 1;
        }
        
        /* Layouts */
        .slide.title-slide {
            background-color: var(--primary-color);
            color: var(--white-color);
        }
        .slide.title-slide h1 { font-size: 3.8em; margin-bottom: 0.2em;}
        .slide.title-slide h2 { font-size: 1.8em; font-weight: 400; opacity: 0.9;}

        .slide.section-title {
            background-color: var(--secondary-color);
            color: var(--white-color);
        }
        .slide.section-title h2 { font-size: 3em;}

        .slide .content-wrapper {
            display: flex;
            width: 100%;
            height: 100%;
            align-items: center;
            gap: 40px;
        }
        .slide .text-content { flex: 1; text-align: left; }
        .slide .image-content { flex: 0.8; }
        .slide .image-content img { max-width: 100%; max-height: 500px; border-radius: 10px; object-fit: cover; box-shadow: 0 10px 20px rgba(0,0,0,0.1);}
        
        /* Typography */
        h1, h2, h3 {
            font-family: var(--header-font);
            font-weight: 700;
        }
        h1 { font-size: 3em; color: var(--primary-color); margin-bottom: 20px;}
        h2 { font-size: 2.5em; color: var(--secondary-color); margin-top: 0; margin-bottom: 30px;}
        h3 { font-size: 1.8em; color: var(--text-color); margin-bottom: 15px; border-left: 5px solid var(--accent-color); padding-left: 15px;}
        
        p, li {
            font-size: 1.2em;
            line-height: 1.8;
            max-width: 800px;
        }
        ul {
            list-style: none;
            padding-left: 0;
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
        }
        li {
            padding-left: 1.5em;
            position: relative;
            margin-bottom: 1em;
        }
        li::before {
            content: '✓';
            color: var(--secondary-color);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        strong { color: var(--primary-color); }
        .quest {
            background-color: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 20px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 1.1em;
        }
        .quest h4 {
            margin: 0 0 10px 0;
            color: #e65100;
            font-size: 1.2em;
        }
        .quest p { font-size: 1em; margin: 0; }

        /* Code Blocks */
        pre {
            background-color: var(--code-bg-color);
            color: var(--code-text-color);
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            text-align: left;
            font-family: var(--code-font);
            font-size: 0.9em;
            width: 100%;
            max-width: 800px;
            box-sizing: border-box;
        }
        code {
            font-family: var(--code-font);
            background-color: rgba(0,0,0,0.05);
            padding: 2px 5px;
            border-radius: 3px;
        }

        /* Table */
        table {
            width: 100%;
            max-width: 900px;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: left;
            font-size: 1em;
        }
        th {
            background-color: var(--secondary-color);
            color: var(--white-color);
            font-weight: 700;
        }
        tr:nth-child(even) {
            background-color: #e3f2fd;
        }
        td:first-child { font-weight: bold; }
        
        /* Navigation */
        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
        }
        .nav-button {
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        .nav-button:hover {
            background-color: var(--secondary-color);
        }
        .nav-button:disabled {
            background-color: #90a4ae;
            cursor: not-allowed;
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            height: 8px;
            background-color: var(--accent-color);
            width: 0;
            transition: width 0.3s ease;
            z-index: 101;
        }

        /* Slide Counter */
        .slide-counter {
            position: fixed;
            bottom: 15px;
            right: 20px;
            font-size: 1em;
            color: var(--text-color);
            background-color: rgba(255, 255, 255, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            z-index: 100;
        }

    </style>
</head>
<body>

    <div class="slides-container">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>チーム開発の礎を築く</h1>
            <h2>開発環境の設計と実践</h2>
            <p style="margin-top: 50px;">M1向け アジャイル開発PBL</p>
        </section>

        <!-- Slide 2: Agenda -->
        <section class="slide">
            <h1>今日学ぶこと</h1>
            <ul>
                <li><strong>なぜ</strong>環境を統一するのか？ - チーム開発の「共通言語」</li>
                <li><strong>どこで</strong>開発するのか？ - 本演習のアーキテクチャ概要</li>
                <li><strong>どうやって</strong>進めるのか？ - 技術スタックとリポジトリの掟</li>
                <li><strong>何を</strong>作るのか？ - ローカル開発環境の構築</li>
                <li><strong>そして、</strong>実践と探求へ - 演習課題</li>
            </ul>
        </section>

        <!-- Slide 3: Intro - The "Why" -->
        <section class="slide">
            <div class="content-wrapper">
                <div class="text-content">
                    <h2>序章：なぜ「開発環境」から始めるのか？</h2>
                    <h3>「It works on my machine!」</h3>
                    <p>「僕のPCでは動くのに！」... この言葉は、チーム開発における悲劇の始まりです。</p>
                    <p>一人の「動く」は、チームの「動かない」に繋がり、プロジェクトの遅延や品質低下を招きます。</p>
                </div>
                <div class="image-content">
                    <img src="https://storage.googleapis.com/gemini-prod/images/2024/5/16/e012e8c2321590e822003c4075b9f7a7.jpeg" alt="複雑なコードが表示されたモニターの前で頭を抱える開発者">
                </div>
            </div>
        </section>

        <!-- Slide 4: Root Cause -->
        <section class="slide">
            <div class="content-wrapper">
                 <div class="image-content">
                    <img src="https://images.unsplash.com/photo-1504384308006-eb1019f9ed70?q=80&w=2070&auto=format&fit=crop" alt="[異なるOSや設定のPCが複雑に繋がっているイメージ]">
                </div>
                <div class="text-content">
                    <h3>問題の根源は「見えない差異」</h3>
                    <p>OS、ライブラリのバージョン、設定ファイル... 一つ一つは些細な違いでも、積もれば巨大な壁になります。</p>
                    <p>環境構築とは、この「見えない差異」をなくし、<strong>チーム全員が同じ土台（共通基盤）を築く行為</strong>です。</p>
                    <p>これは単なる準備作業ではなく、<strong>チームビルディングの第一歩</strong>なのです。</p>
                </div>
            </div>
        </section>

        <!-- Slide 5: Goal -->
        <section class="slide">
            <h2>本日のゴール</h2>
            <p>単なる手順の暗記ではありません。</p>
            <ul>
                <li><strong>「なぜ」</strong>それが必要なのかを深く理解する。</li>
                <li>チームとして<strong>最適なアプローチを自ら考え、選択する。</strong></li>
                <li>その選択の過程と結果を<strong>ドキュメントとして記録する。</strong></li>
            </ul>
            <p>個人ではなく、<strong>チームとして成果を出すための基礎体力</strong>を養いましょう。</p>
        </section>
        
        <!-- Slide 6: Section 1 Title -->
        <section class="slide section-title">
            <h2>第1部：なぜ環境を揃えるのか？ (The Why)</h2>
        </section>
        
        <!-- Slide 7: OS Wall -->
        <section class="slide">
            <div class="content-wrapper">
                <div class="text-content">
                    <h3>悲劇その1：OSの壁</h3>
                    <p>WindowsとMac/Linuxが混在するチームで起こりがちな問題です。</p>
                    <ul>
                        <li><strong>パス区切り文字:</strong> <code>C:\Users</code> vs <code>/home/user</code></li>
                        <li><strong>文字コード:</strong> Shift_JIS vs UTF-8 (<code>UnicodeDecodeError</code>の原因)</li>
                        <li><strong>改行コード:</strong> CRLF vs LF (Gitで無用な差分が発生)</li>
                    </ul>
                </div>
                <div class="image-content">
                     <img src="https://images.unsplash.com/photo-1577562548074-a6a9de9b418a?q=80&w=2070&auto=format&fit=crop" alt="[壁で隔てられたWindowsとMacのロゴのイメージ]">
                </div>
            </div>
        </section>
        
        <!-- Slide 8: Dependency Hell -->
        <section class="slide">
            <div class="content-wrapper">
                 <div class="image-content">
                     <img src="https://images.unsplash.com/photo-1544465243-d08316b06822?q=80&w=2070&auto=format&fit=crop" alt="[複雑に絡み合った糸のイメージ]">
                </div>
                <div class="text-content">
                    <h3>悲劇その2：依存関係地獄</h3>
                    <p>「AさんのPCでは動くのに、BさんのPCではライブラリのバージョンが古くて動かない...」</p>
                    <ul>
                        <li><strong>グローバル環境汚染:</strong> <code>pip install</code>でPC全体に影響。</li>
                        <li><strong>バージョンの不一致:</strong> <code>requests</code>と<code>requests==2.28.1</code>は別物。</li>
                    </ul>
                    <p>これを解決するのが<strong>「仮想環境」</strong>と<strong>「<code>requirements.txt</code>」</strong>です。</p>
                </div>
            </div>
        </section>
        
        <!-- Slide 9: Hint & Quest 1 -->
        <section class="slide">
             <h2>探求の時間：クラス全体の成功のために</h2>
             <div class="quest">
                <h4>Hint & Quest 1</h4>
                <p>皆さんのチームは、OSが全員同じですか？ もし違う場合、先ほどの「OSの壁」を乗り越えるために、どんなルールやツールが役立つでしょうか？ チームで話し合ってみましょう。</p>
                <p style="font-size: 0.9em; margin-top:10px;">ヒント: Gitには改行コードを自動で統一してくれる設定があるようです。</p>
             </div>
             <div class="quest">
                <h4>Hint & Quest 2</h4>
                <p>この演習では、ローカル開発環境で使うDB(SQLite)と、サーバー上のDB(PostgreSQL)が異なります。この違いは、将来どんな問題を引き起こす可能性があると思いますか？</p>
             </div>
        </section>

        <!-- Slide 10: Section 2 Title -->
        <section class="slide section-title">
            <h2>第2部：我々の戦場 – アーキテクチャ概要 (The Where)</h2>
        </section>

        <!-- Slide 11: Architecture -->
        <section class="slide">
            <h2>ソフトウェア開発の旅路：3つの環境</h2>
            <img src="https://placehold.co/1000x400/FFFFFF/0d47a1?text=%E2%91%A0+%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%0A(%E3%81%82%E3%81%AA%E3%81%9F%E3%81%AEP%E2%86%92C)+%E2%86%92+%E2%91%A1+%E5%85%B1%E6%9C%89%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%0A(Git)+%E2%86%92+%E2%91%A2+%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E5%85%88%E7%92%B0%E5%A2%83%0A(%E5%A4%A7%E5%AD%A6%E3%81%AEVM)&font=noto-sans-jp" alt="[シンプルなアーキテクチャ図]" style="border: 2px solid var(--primary-color); border-radius:10px; margin-top: 30px;">
            <p style="margin-top: 30px;">この旅路を通して、個人の技術力だけでなく、チームでの協調性、そしてインフラの知識まで、幅広く成長することができます。</p>
        </section>

        <!-- Slide 12: Section 3 Title -->
        <section class="slide section-title">
            <h2>第3部：チームの掟 – リポジトリ運用 (The How)</h2>
        </section>

        <!-- Slide 13: Rules -->
        <section class="slide">
            <div class="content-wrapper">
                <div class="text-content">
                    <h3>クラス全体で守るべき最低限のルール</h3>
                    <ul>
                        <li><strong>単一リポジトリ:</strong> 全チームで1つのGitリポジトリを共有します。</li>
                        <li><strong>チームディレクトリ:</strong> <code>/team_A/</code>, <code>/team_B/</code> のように、自分のチームのディレクトリ内でのみ作業してください。</li>
                        <li><strong><code>.gitignore</code>の統一:</strong> 機密情報 (<code>.env</code>) や不要なファイル (<code>__pycache__</code>, <code>db.sqlite3</code>) を絶対にコミットしない！</li>
                        <li><strong>コーディング規約:</strong> Pythonの公式スタイルガイドPEP 8に準拠しましょう。</li>
                    </ul>
                </div>
                 <div class="image-content">
                     <img src="https://images.unsplash.com/photo-1557804506-669b35177435?q=80&w=2070&auto=format&fit=crop" alt="[チームでルールについて議論しているイメージ]">
                </div>
            </div>
        </section>
        
        <!-- Slide 14: Hint & Quest 2 -->
        <section class="slide">
             <h2>探求の時間：安全と効率のために</h2>
             <div class="quest">
                <h4>Hint & Quest 3</h4>
                <p>チームメンバーがうっかりデータベースのパスワードを <code>settings.py</code> に直接書いてしまいました。このままGitにpushするとクラス全員に見られてしまいます。機密情報を安全に管理するには、どうすれば良いでしょうか？</p>
                <p style="font-size: 0.9em; margin-top:10px;">ヒント: 「django settings secret key」や「環境変数」、「dotenv」といったキーワードで調べてみましょう。</p>
             </div>
             <div class="quest">
                <h4>Hint & Quest 4</h4>
                <p>開発を進めるうち、チームAとチームBでとても似た機能が必要だと気づきました。それぞれが同じコードを書くのは非効率です。この単一リポジトリの構成を活かして、コードを共有する良い方法はないでしょうか？</p>
             </div>
        </section>
        
        <!-- Slide 15: Section 4 Title -->
        <section class="slide section-title">
            <h2>第4部：自分の城を築く – ローカル環境構築 (The What)</h2>
        </section>
        
        <!-- Slide 16: Choices -->
        <section class="slide">
            <h2>環境構築：どちらを選ぶ？ (チームで議論しよう)</h2>
            <p>ローカル開発環境の構築方法は、主に2つの選択肢があります。</p>
            <table>
                <thead>
                    <tr>
                        <th>特徴</th>
                        <th>推奨: Dockerを利用</th>
                        <th>別案: venvを利用</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>環境の一貫性</td>
                        <td>◎ 非常に高い</td>
                        <td>△ 低い</td>
                    </tr>
                    <tr>
                        <td>展開の容易さ</td>
                        <td>○ 容易 (初期学習コストあり)</td>
                        <td>△ 困難 (手順が複雑化しやすい)</td>
                    </tr>
                    <tr>
                        <td>本番環境との近さ</td>
                        <td>◎ 近い</td>
                        <td>× 乖離しやすい</td>
                    </tr>
                    <tr>
                        <td>学習コスト</td>
                        <td>△ 高い</td>
                        <td>◎ 低い</td>
                    </tr>
                </tbody>
            </table>
            <p style="margin-top: 20px;"><strong>どちらが良い/悪いではありません。</strong>チームのスキルレベルや目指すものを考慮して、<strong>なぜその選択をしたのかを説明できるように</strong>議論してください。</p>
        </section>

        <!-- Slide 17: Docker -->
        <section class="slide">
            <div class="content-wrapper">
                <div class="image-content">
                     <img src="https://images.unsplash.com/photo-1623134136829-51a84b330424?q=80&w=2070&auto=format&fit=crop" alt="[コンテナ船のイメージ]">
                </div>
                <div class="text-content">
                    <h3>推奨：Dockerによる環境構築</h3>
                    <p>Dockerは、アプリケーションとその実行環境を「コンテナ」という箱にパッケージングする技術です。</p>
                    <p>「環境そのものをコードで管理する」という考え方で、「It works on my machine!」問題を根本から解決します。</p>
                    <pre><code># docker-compose.yml (設定ファイルの例)
services:
  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8000
    volumes:
      - .:/app
    ports:
      - "8000:8000"
</code></pre>
                </div>
            </div>
        </section>

        <!-- Slide 18: Hint & Quest 3 -->
        <section class="slide">
            <h2>探求の時間：コンテナを使いこなす</h2>
            <div class="quest">
                <h4>Hint & Quest 5</h4>
                <p>Dockerでコンテナを起動しました。Djangoのマイグレーション (`python manage.py migrate`) のようなコマンドを、起動中のコンテナに対して実行するにはどうすれば良いでしょうか？</p>
                 <p style="font-size: 0.9em; margin-top:10px;">ヒント: <code>docker exec</code> コマンドが役立つかもしれません。</p>
            </div>
            <div class="quest">
                <h4>Hint & Quest 6</h4>
                <p>ユーザーがアップロードした画像ファイルが、コンテナを再起動するたびに消えてしまいます！なぜでしょうか？どうすればファイルを永続化（保存し続けられるように）できるでしょうか？</p>
                <p style="font-size: 0.9em; margin-top:10px;">ヒント: <code>docker-compose.yml</code> の <code>volumes</code> の設定が鍵です。</p>
            </div>
        </section>

        <!-- Slide 19: Section 5 Title -->
        <section class="slide section-title">
            <h2>第5部：実践と探求 – 演習</h2>
        </section>

        <!-- Slide 20: Exercise 1 -->
        <section class="slide">
            <div class="content-wrapper">
                <div class="text-content">
                    <h3>演習：チームの開発環境を立ち上げよ</h3>
                    <ol style="text-align: left; padding-left: 20px; font-size: 1.1em; line-height: 1.8;">
                        <li style="padding-left: 0.5em; margin-bottom: 0.5em;"><strong>アプローチ決定:</strong> Dockerかvenvか、チームで議論し、決定理由を明確にする。</li>
                        <li style="padding-left: 0.5em; margin-bottom: 0.5em;"><strong>Djangoプロジェクト作成:</strong> チームディレクトリ内でプロジェクトを開始する。</li>
                        <li style="padding-left: 0.5em; margin-bottom: 0.5em;"><strong>サーバー起動確認:</strong> <code>http://localhost:8000</code> でロケットが表示されることを確認。</li>
                        <li style="padding-left: 0.5em; margin-bottom: 0.5em;"><strong>再現性確認:</strong> チームの誰もがゼロから環境を再現できるか相互に確認する。</li>
                        <li style="padding-left: 0.5em; margin-bottom: 0.5em;"><strong>ドキュメント作成:</strong> チームディレクトリ内に<code>README.md</code>を作成し、環境構築手順と「なぜその方法を選んだのか」を詳細に記述する。</li>
                    </ol>
                    <p><strong>この演習のゴールは、動かすことだけではありません。チームでの意思決定と、未来のメンバーのためのドキュメンテーションを実践することです。</strong></p>
                </div>
                <div class="image-content">
                     <img src="https://images.unsplash.com/photo-1510525008061-f3b1464c0177?q=80&w=1964&auto=format&fit=crop" alt="[チームで協力して作業しているイメージ]">
                </div>
            </div>
        </section>

        <!-- Slide 21: Final -->
        <section class="slide title-slide">
            <h1>質問 & ディスカッション</h1>
            <h2>ここまでの内容で、何か疑問はありますか？</h2>
        </section>

    </div>

    <div class="progress-bar"></div>
    <div class="slide-counter"></div>

    <div class="navigation">
        <button id="prev-btn" class="nav-button">前へ</button>
        <button id="next-btn" class="nav-button">次へ</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressBar = document.querySelector('.progress-bar');
            const slideCounter = document.querySelector('.slide-counter');
            
            let currentSlideIndex = 0;
            const totalSlides = slides.length;

            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
                currentSlideIndex = index;
                updateUI();
                window.location.hash = `slide-${index + 1}`;
            }

            function updateUI() {
                // Update buttons
                prevBtn.disabled = currentSlideIndex === 0;
                nextBtn.disabled = currentSlideIndex === totalSlides - 1;

                // Update progress bar
                const progress = ((currentSlideIndex + 1) / totalSlides) * 100;
                progressBar.style.width = `${progress}%`;

                // Update slide counter
                slideCounter.textContent = `${currentSlideIndex + 1} / ${totalSlides}`;
            }

            function nextSlide() {
                if (currentSlideIndex < totalSlides - 1) {
                    showSlide(currentSlideIndex + 1);
                }
            }

            function prevSlide() {
                if (currentSlideIndex > 0) {
                    showSlide(currentSlideIndex - 1);
                }
            }

            // Event Listeners
            nextBtn.addEventListener('click', nextSlide);
            prevBtn.addEventListener('click', prevSlide);

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    e.preventDefault();
                    nextSlide();
                } else if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    prevSlide();
                }
            });

            // Handle URL hash on load
            function goToSlideFromHash() {
                const hash = window.location.hash;
                const slideNumber = parseInt(hash.replace('#slide-', ''), 10);
                if (!isNaN(slideNumber) && slideNumber > 0 && slideNumber <= totalSlides) {
                    showSlide(slideNumber - 1);
                } else {
                    showSlide(0);
                }
            }

            window.addEventListener('hashchange', goToSlideFromHash);
            
            // Initial setup
            goToSlideFromHash();
        });
    </script>
</body>
</html>


