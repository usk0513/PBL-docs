<!-- textlint-disable ai-writing/no-ai-list-formatting,ai-writing/no-ai-emphasis-patterns -->

# Git説明資料 設計書

## 資料の背景・目的

### 対象者

- M1の情報系の大学院生
- Git経験レベルが混在（日々使っている学生から初心者まで）
- 全員に100％理解してもらうことより、チーム内でGit説明ができる状態を目指す

### 使用場面

- アジャイル開発をチームで行うPBLの講義の一環
- 1つのリポジトリを全チームが共有して開発するスタイル
- この資料で基礎を説明後、別途ハンズオンを実施

### 資料の基本仕様

- **想定時間**: 15分
- **形式**: 1つのMarkdownファイル（Googleスライドに変換）
- **使用環境**: macOS/Windows/Linux
- **操作方法**: CUI（コマンドライン）
- **Git環境**: GitHub、HTTPS認証（必要に応じてPersonal Access Token）
- **前提知識**: ターミナルの基本操作は習得済み

### この資料でカバーする範囲

- Gitを使う理由・動機付け
- 基本的なGitフロー（クローン → ブランチ作成 → 編集 → コミット → プッシュ → PR → マージ）
- 最低限必要なコマンドのみ

### この資料でカバーしない範囲

- `git init`（既存リポジトリをクローンする前提）
- ブランチ戦略の詳細（GitHub Flow、Git Flow等）
- コンフリクト解決
- 状態確認コマンドの詳細（`git log`、`git status`等）
- 取り消し操作（`git reset`、`git revert`等）
- `.gitignore`の説明
- GUIツールでの操作
- PAT作成の詳細手順

## 資料の全体構成

### スライド構成（案）

1. **タイトルスライド**
2. **なぜGitを使うのか？**（導入・動機付け）
3. **PBLでのソースコード管理の流れ**（全体像）
4. **ステップ1: クラウドのソースコードをローカルに保存 - git clone**
5. **ステップ2: ローカルで新しい作業場を作る - git checkout -b**
6. **ステップ3: 新しい作業場で作業する - ファイル編集**
7. **ステップ4: 編集内容を記録する（前半） - git add**
8. **ステップ4: 編集内容を記録する（後半） - git commit**
9. **ステップ5: クラウド側にも編集内容を同期 - git push**
10. **ステップ6: マスターデータに作業内容を統合 - PR・マージ**
11. **まとめ・次のステップ**

---

## 各スライドの詳細設計

### 1. タイトルスライド

- **レイアウト**: タイトル スライド
- **内容**:
  - 資料タイトル: 「Gitの基礎」（仮）
  - サブタイトル: 「チーム開発のための最初のステップ」（仮）

---

### 2. なぜGitを使うのか？

- **レイアウト**: タイトルと本文
- **目的**: Gitがない場合の問題点を具体例で示し、Gitの必要性を理解してもらう
- **内容**:
  - **見出し**: なぜGitを使うのか？
  - **例1: 実装の巻き戻し失敗**
    - 新しい機能を追加したが動かなかった
    - 一旦元に戻そうと思い、追加部分を手動で削除
    - しかし、プログラムが動かない（何を変更したか正確には覚えていない）
  - **例2: 複数人での同時作業の煩雑さ**
    - 複数人で同じファイル（例: `本番資料.pptx`）を作成する場合
    - 各自がファイルをコピー: `【廣野作業用】本番資料.pptx`、`本番資料_小浜.pptx`
    - 最後は1つへまとめる作業が面倒
    - たまにやるなら良いが、プロダクト開発では日常的に発生
    - さらに問題:
      - コピー元のファイルをどの時点で取得したかによって各自の作業内容が変わる
      - 最終的にまとめた資料では不要なスライドが残る
      - 他の人が修正した内容は上書きされて消える
  - **例3: 変更履歴の追跡困難**
    - 「誰が、いつ、なぜこのコードを変更したのか？」が分からない
    - そのため、バグの原因特定が困難になる
    - または: バックアップの課題（`プロジェクト_最終版.zip`、`プロジェクト_最終版2.zip`、`プロジェクト_本当に最終版.zip`問題）

  ※例3は、スライドの情報量に応じて追加するか判断

---

### 3. PBLでのソースコード管理の流れ

- **レイアウト**: タイトルと本文 または タイトルと画像(1枚)
- **目的**: PBLでのソースコード管理の全体像を理解してもらう
- **内容**:
  - **見出し**: PBLでのソースコード管理の流れ
  - **開始状態**: 共有ソースコードがクラウド（GitHub）上にある
    - チーム全員で使う「共有の場所」がGitHub上に存在
  - **ステップ1**: クラウドのソースコードをローカルに保存（**クローン**）
    - コマンド: `git clone`
  - **ステップ2**: ローカルで新しい作業場を作る（**ブランチ作成**）
    - コマンド: `git checkout -b`
    - 自分専用の作業スペースを用意
  - **ステップ3**: 新しい作業場で作業する（**ファイル編集**）
    - 好きなエディタでコードを修正
  - **ステップ4**: 編集内容を記録する（**ステージング・コミット**）
    - コマンド: `git add`、`git commit`
    - 区切りの良いタイミングで変更を保存
  - **ステップ5**: クラウド側にも編集内容を同期（**プッシュ**）
    - コマンド: `git push`
    - 自分の作業用ブランチがクラウドにも作られる
  - **ステップ6**: マスターデータに作業内容を統合（**PR・マージ**）
    - GitHub上で作業用ブランチをmainブランチへ統合
    - チームメンバーが確認してからマージ

  ※フロー図があると分かりやすい（クラウド/ローカル、ブランチの移動など）

  - `[TODO: PBLでのソースコード管理フロー図（GitHub↔ローカル、ブランチの作成・マージ）]`

---

### 4. ステップ1: クラウドのソースコードをローカルに保存 - git clone

- **レイアウト**: タイトルと本文 または タイトルと画像(1枚)と説明
- **目的**: リモートリポジトリからローカルへコピーする方法を理解してもらう
- **内容**:
  - **コマンド**: `git clone <URL>`
  - **手順**:
    1. GitHubリポジトリページで緑の「Code」ボタンをクリック
    2. HTTPSタブを選択
    3. URLをコピー
    4. ターミナルで`git clone`コマンドを実行
  - **コマンド例**:

    ```bash
    git clone https://github.com/example/project.git
    ```

  - 画像プレースホルダー: `[TODO: GitHubでHTTPS URLをコピーする手順のスクリーンショット]`
  - **キャプチャ内容**: 「Code」ボタンをクリック → HTTPSタブ選択 → URLコピーボタンが見える状態

---

### 5. ステップ2: ローカルで新しい作業場を作る - git checkout -b

- **レイアウト**: タイトルと本文
- **目的**: mainブランチから新しい作業ブランチを作成する方法を理解してもらう
- **内容**:
  - **コマンド**:

    ```bash
    git checkout -b <ブランチ名>
    ```

    または

    ```bash
    git branch <ブランチ名>
    git checkout <ブランチ名>
    ```

  - **ブランチ命名規則**（軽く言及）:
    - `チーム名/機能名` の形式を推奨
    - 例: `team-a/add-login-feature`
    - 詳細は別資料を参照
  - **コマンド例**:

    ```bash
    git checkout -b team-a/add-feature
    ```

  - **補足**: mainブランチから新しいブランチを作成し、そのブランチに切り替える

---

### 6. ステップ3: 新しい作業場で作業する - ファイル編集

- **レイアウト**: タイトルと本文
- **目的**: 実際にファイルを編集する段階であることを理解してもらう
- **内容**:
  - 好きなエディタ（VS Code、Vim、Emacs等）でファイルを編集
  - コードを追加・修正・削除する
  - **重要**: この段階ではまだGitに変更は記録されていない（次のステップでステージングに追加する）

---

### 7. ステップ4: 編集内容を記録する（前半） - git add

- **レイアウト**: タイトルと本文
- **目的**: 変更をコミット対象として登録する方法を理解してもらう
- **内容**:
  - **コマンド**:

    ```bash
    git add <ファイル名>
    ```

    または

    ```bash
    git add .
    ```

  - **ステージングエリアとは**:
    - コミットする変更を準備する場所
    - `git add`で変更をステージングエリアに追加
    - 次のステップでステージングされた変更をコミットする
  - **コマンド例**:

    ```bash
    git add src/main.py
    ```

    または全ての変更を追加:

    ```bash
    git add .
    ```

---

### 8. ステップ4: 編集内容を記録する（後半） - git commit

- **レイアウト**: タイトルと本文
- **目的**: 変更を履歴として記録する方法を理解してもらう
- **内容**:
  - **コマンド**:

    ```bash
    git commit -m "コミットメッセージ"
    ```

  - **コミットメッセージの書き方**:
    - 何を変更したかを分かりやすく書く
    - 例: 「ログイン機能を追加」「バグを修正」「READMEを更新」
    - フォーマットの厳密な規定はなし（チームで決める）
  - **コマンド例**:

    ```bash
    git commit -m "ログイン機能を追加"
    ```

  - **補足**: コミットすることで、変更がローカルリポジトリの履歴に記録される

---

### 9. ステップ5: クラウド側にも編集内容を同期 - git push

- **レイアウト**: タイトルと本文
- **目的**: ローカルの変更をリモートリポジトリに送信する方法を理解してもらう
- **内容**:
  - **コマンド**:

    ```bash
    git push origin <ブランチ名>
    ```

  - **コマンド例**:

    ```bash
    git push origin team-a/add-feature
    ```

  - **補足**:
    - ローカルでコミットした変更をGitHub（リモート）に送信
    - これでチームメンバーが変更を見られるようになる
  - **認証について**（軽く言及）:
    - HTTPS接続の場合、ユーザー名とパスワードを求められる場合がある
    - 必要に応じてPersonal Access Token（PAT）を使用
    - 詳細は別途手順書を参照

---

### 10. ステップ6: マスターデータに作業内容を統合 - PR・マージ

- **レイアウト**: タイトルと画像(2枚)と説明 または タイトルと本文(2列)
- **目的**: GitHub上でのPull Request作成からmainブランチへのマージ方法を理解してもらう
- **内容**:
  - **Pull Request（PR）とは**:
    - 自分の変更をmainブランチに取り込んでもらうための依頼
    - チームメンバーがコードをレビューできる
  - **手順**:
    1. プッシュ後、GitHub上で「Compare & pull request」ボタンが表示される
    2. ボタンをクリックしてPR作成画面を開く
    3. PRのタイトルと説明を入力
    4. 「Create pull request」ボタンをクリック
    5. レビュー後、「Merge pull request」ボタンでマージ
  - 画像プレースホルダー:
    - `[TODO: PR作成ボタンのスクリーンショット]`
      - **キャプチャ内容**: プッシュ後、GitHub上へ表示される「Compare & pull request」ボタン
    - `[TODO: PR作成フォームのスクリーンショット]`
      - **キャプチャ内容**: PRのタイトル・説明入力フォーム、base/compareブランチ選択部分
    - `[TODO: マージボタンのスクリーンショット]`
      - **キャプチャ内容**: 「Merge pull request」ボタンとマージ方法の選択肢
  - **補足**:
    - レビュー・マージのルールはチームで決める
    - マージ後、変更がmainブランチに反映される

---

### 11. まとめ・次のステップ

- **レイアウト**: タイトルと本文
- **目的**: 学んだ内容を振り返り、次のアクションを示す
- **内容**:
  - **今日学んだこと**:
    - Gitを使う理由
    - 基本的なGitフロー（クローン → ブランチ作成 → 編集 → コミット → プッシュ → PR → マージ）
  - **次のステップ**:
    - 実際にハンズオンで手を動かして練習
    - 困ったときは周りの詳しい人へ相談
  - **重要なポイント**:
    - 最初は完璧に理解できなくても大丈夫
    - クラス内でGitに詳しい人に教えてもらいながら進める
    - 慣れてくれば自然に使えるようになる

---

## 技術的な実装メモ

### Markdownファイルの設定

- YAML frontmatterに以下を含める:

  ```yaml
  ---
  presentationID: <Google Slides ID>
  title: Gitの基礎
  breaks: true
  ---
  ```

- 各スライドの区切りに`---`を使用
- 各スライドの先頭へ適切なレイアウト指定を含める:

  ```markdown
  <!-- {"layout": "タイトルと本文"} -->
  ```

### 画像プレースホルダーの管理

- 画像が必要な箇所は`[TODO: 説明]`形式でプレースホルダーを配置
- キャプチャ内容の詳細を併記し、後から画像追加しやすくする

### レイアウトの確認

- ファイル作成後、`deck ls-layouts <ファイル名>`で利用可能なレイアウトを確認
- テーマが正しく設定されているか確認

---

## チームの運用ルール（別資料で説明）

- ブランチ命名規則の詳細: `チーム名/`で始める
- コミットメッセージの規約
- PRのレビュープロセス
- マージのタイミング・方法

---

## 参考資料・次のステップ

- ハンズオン資料（別途作成済み）
- GitのGUI操作（VS Code等、別途チュートリアルWebアプリで説明）
- より詳しいGit操作（必要に応じて）
